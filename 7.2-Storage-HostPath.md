## HostPath
`HostPath`: là một loại Volume trong Kubernetes, nó cho phép truy cập đến các tệp và thư mục trên host node và sử dụng chúng trong Pod. Sau đây là một số đặc điểm của HostPath volume:  
- HostPath volume cho phép truy cập đến các tệp và thư mục trên host node và sử dụng chúng trong Pod. Điều này có nghĩa là Pod có thể truy cập đến các tệp và thư mục nằm bên ngoài container, cho phép chia sẻ dữ liệu giữa container và host node.  
- HostPath volume có thể được sử dụng để lưu trữ dữ liệu giữa các Pod và các ứng dụng ngoài Kubernetes.  
- HostPath volume cho phép sử dụng các tệp và thư mục có sẵn trên host node, giúp cho việc triển khai ứng dụng trở nên dễ dàng và nhanh chóng hơn.  
- HostPath volume có thể được cấu hình để sử dụng các tùy chọn bổ sung, chẳng hạn như chế độ chỉ đọc hoặc kích thước tối đa của volume.  
- HostPath volume có thể truy cập được bởi tất cả các container trong Pod, đây là một tính năng hữu ích trong trường hợp cần chia sẻ dữ liệu giữa các container.  
- Tuy nhiên, HostPath volume không được khuyến khích sử dụng trong môi trường sản phẩm, vì nó có thể gây nguy hiểm đến bảo mật và an ninh. Do đó, nên sử dụng HostPath volume cẩn thận và chỉ trong các trường hợp cần thiết.  
Trên đây là một số đặc điểm của HostPath volume trong Kubernetes. HostPath volume là một loại lưu trữ linh hoạt và mạnh mẽ, và nó có thể được sử dụng để truy cập các tệp và thư mục trên host node và sử dụng chúng trong Pod. Tuy nhiên, cần cẩn thận khi sử dụng HostPath volume và chỉ nên sử dụng trong các trường hợp cần thiết.  
## Triển khai service với hostpath
Triển khai Nginx trên Kubernetes sử dụng HostPath, với các yêu cầu:
- Tên Deployment là webserver-nginx
- Sử dụng replicas là 2
- Mount thư mục source nginx vào thư mục data trên HostPath
- Expose Service Nginx ra cổng 30023  
Sử dụng file `nginx-hostpath.yaml` với nội dung như bên dưới:  
```sh
apiVersion: apps/v1
kind: Deployment
metadata:
  name: webserver-nginx
spec:
  replicas: 2
  selector:
    matchLabels:
      app: nginx
  template:
    metadata:
      labels:
        app: nginx
    spec:
      containers:
      - name: nginx
        image: nginx
        volumeMounts:
        - name: data-volume
          mountPath: /data
      volumes:
      - name: data-volume
        hostPath:
          path: /path/to/nginx/source
          type: Directory
---
apiVersion: v1
kind: Service
metadata:
  name: nginx-service
spec:
  type: NodePort
  selector:
    app: nginx
  ports:
    - protocol: TCP
      port: 80
      nodePort: 30023
```  
Trong đó:  
- `name: webserver-nginx` phần tên deployment.  
- `mountPath: /data`: /data là thư mục được mount chưa dữ liệu nginx ra máy chủ node.  
- Cần thay đổi giá trị `/path/to/nginx/source` để định vị thư mục nguồn của Nginx trên host.
- `nodePort: 30023` port được public ra ngoài.  
Sử dụng lệnh `kubectl apply -f  nginx-hostpath.yaml` đễ deploy service nginx như thông số cầu hình trên.  


